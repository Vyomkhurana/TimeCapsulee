const mongoose = require('mongoose');const sessionSchema = new mongoose.Schema({    userId: {        type: mongoose.Schema.Types.ObjectId,        ref: 'User',        required: true,        index: true     },    token: {        type: String,        required: true,        unique: true,        index: true     },    userAgent: {        type: String,        default: null    },    ipAddress: {        type: String,        default: null    },    lastActivity: {        type: Date,        default: Date.now    },    createdAt: {        type: Date,        default: Date.now,        expires: 24 * 60 * 60     }}, {    timestamps: true});sessionSchema.index({ userId: 1, token: 1 });sessionSchema.methods.updateActivity = function() {    this.lastActivity = new Date();    return this.save();};sessionSchema.statics.cleanupExpired = function() {    const expiryTime = new Date(Date.now() - 24 * 60 * 60 * 1000);    return this.deleteMany({ createdAt: { $lt: expiryTime } });};module.exports = mongoose.model('Session', sessionSchema); 